# Implementação do Backend (20 Tarefas)

31. "No modo Code, crie um arquivo `app/main.py` com uma instância FastAPI básica (`app = FastAPI()`) e uma rota `/health` que retorne `{"status": "ok"}`."
32. "No modo Code, gere um arquivo `app/api/endpoints/__init__.py` para inicializar o módulo de endpoints."
33. "No modo Code, crie um arquivo `app/api/endpoints/users.py` com rota `POST /users` para criar usuários usando o modelo `User`."
34. "No modo Code, adicione ao `app/api/endpoints/users.py` uma rota `GET /users/{user_id}` para buscar usuário por ID."
35. "No modo Code, gere um arquivo `app/api/endpoints/metrics.py` com rota `POST /metrics` para registrar métricas usando o modelo `Metric`."
36. "No modo Code, adicione ao `app/api/endpoints/metrics.py` uma rota `GET /metrics` com parâmetros opcionais `user_id`, `platform_id`, `start_date`, `end_date`."
37. "No modo Code, crie um arquivo `app/core/config.py` para carregar configurações do `.env` usando `pydantic.BaseSettings`."
38. "No modo Code, gere um arquivo `app/core/security.py` com funções para hash de senha usando `cryptography`."
39. "No modo Code, crie um arquivo `app/services/metric_service.py` com função `calculate_metrics()` para agregar métricas por período."
40. "No modo Code, adicione ao `app/services/metric_service.py` uma função `get_platform_metrics()` para calcular métricas por plataforma."
41. "No modo Code, gere um arquivo `app/services/user_service.py` com função `create_user()` que valida e persiste usuários."
42. "No modo Code, adicione ao `app/services/user_service.py` uma função `get_user_metrics()` que retorna métricas agregadas por usuário."
43. "No modo Code, crie um arquivo `app/utils/date_utils.py` com funções para formatação e manipulação de datas."
44. "No modo Code, gere um arquivo `app/utils/api_utils.py` com funções para validação de payloads e tratamento de erros."
45. "No modo Code, adicione middleware de CORS no `app/main.py` para permitir requisições de qualquer origem (`CORSMiddleware`)."
46. "No modo Code, crie um arquivo `app/workers/celery_worker.py` para configurar tarefas assíncronas com `Celery`."
47. "No modo Code, gere um arquivo `app/workers/tasks.py` com tarefa `fetch_social_metrics()` para coletar métricas periodicamente."
48. "No modo Code, adicione ao `app/main.py` um evento `startup` para inicializar conexões com banco de dados e Redis."
49. "No modo Code, crie um arquivo `app/schemas/response.py` com modelos Pydantic para respostas padronizadas da API."
50. "No modo QA, teste todas as rotas da API usando `curl` ou Postman e verifique os logs do servidor para erros."